(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1366:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var n=a(4807),i=a(2015),s=a(238),r=a(5324),l=a(9755),o=a(2822);let c=[{name:"IRIDIUM 7",line1:"1 24793U 97020B   25136.88864539  .00000313  00000+0  10124-3 0  9998",line2:"2 24793  86.4005 190.0138 0002175  99.6676 260.4766 14.35918957467404"},{name:"IRIDIUM 5",line1:"1 24795U 97020D   25136.90101850  .00003744  00000+0  31022-3 0  9994",line2:"2 24795  86.3872  98.1578 0106651 250.2294 108.7410 14.94138406480793"},{name:"IRIDIUM 4",line1:"1 24796U 97020E   25136.89174958  .00000290  00000+0  91567-4 0  9996",line2:"2 24796  86.4000 186.9141 0002196  93.0418 267.1030 14.36823146467971"},{name:"IRIDIUM 914",line1:"1 24836U 97030A   25136.70440967  .00000394  00000+0  11687-3 0  9997",line2:"2 24836  86.3983 195.6819 0001796  49.7877 310.3480 14.40847790602591"},{name:"IRIDIUM 16",line1:"1 24841U 97030F   25136.75630054  .00000397  00000+0  12319-3 0  9992",line2:"2 24841  86.4073 218.4670 0003628 131.6470 228.5040 14.38692488462486"},{name:"IRIDIUM 911",line1:"1 24842U 97030G   25136.73469848  .00000536  00000+0  14000-3 0  9996",line2:"2 24842  86.4499 217.2792 0013674 193.4268 166.6574 14.47608695470530"},{name:"IRIDIUM 17",line1:"1 24870U 97034B   25136.79376949  .00000448  00000+0  14227-3 0  9999",line2:"2 24870  86.3963 247.9472 0003782 105.3874 254.7742 14.37803152459071"},{name:"IRIDIUM 920",line1:"1 24871U 97034C   25136.70892953  .00000426  00000+0  12487-3 0  9991",line2:"2 24871  86.4006 227.2829 0011773 174.6936 185.4391 14.41509151462043"},{name:"IRIDIUM 26",line1:"1 24903U 97043A   25136.92355144  .00000424  00000+0  13603-3 0  9996",line2:"2 24903  86.3931 123.7570 0002293  94.0857 266.0603 14.37120090452252"},{name:"IRIDIUM 22",line1:"1 24907U 97043E   25136.89726441  .00000357  00000+0  11626-3 0  9996",line2:"2 24907  86.3938 127.2798 0002343  89.7382 270.4083 14.35936499452273"},{name:"DUMMY MASS 1",line1:"1 24925U 97048A   25136.51923570  .00000379  00000+0  39270-4 0  9992",line2:"2 24925  86.3344 149.9711 0004276 252.5002 107.5756 14.86961644500420"},{name:"DUMMY MASS 2",line1:"1 24926U 97048B   25136.47610828  .00000387  00000+0  40350-4 0  9997",line2:"2 24926  86.3346 151.5916 0005005 270.9281  89.1370 14.86714270500195"},{name:"IRIDIUM 29",line1:"1 24944U 97051A   25136.51327108  .00000388  00000+0  12560-3 0  9994",line2:"2 24944  86.3968 157.1802 0002394  86.4969 273.6502 14.36441545448726"},{name:"IRIDIUM 33",line1:"1 24946U 97051C   25136.59989113  .00000285  00000+0  93294-4 0  9994",line2:"2 24946  86.3881 156.4013 0008116 165.3903 194.7529 14.34874476448218"},{name:"IRIDIUM 28",line1:"1 24948U 97051E   25136.57693316  .00000328  00000+0  10330-3 0  9998",line2:"2 24948  86.3970 154.6887 0002296 102.5791 257.5663 14.37364833449301"},{name:"IRIDIUM 36",line1:"1 24967U 97056C   25136.89318875  .00000370  00000+0  11693-3 0  9993",line2:"2 24967  86.4009 186.1336 0002559  96.1108 264.0381 14.37585956447722"},{name:"IRIDIUM 39",line1:"1 25042U 97069D   25136.78127838  .00000615  00000+0  15593-3 0  9992",line2:"2 25042  86.3947 224.5854 0019604  56.7598 303.5481 14.49185453444417"},{name:"IRIDIUM 38",line1:"1 25043U 97069E   25136.78828833  .00000445  00000+0  14047-3 0  9990",line2:"2 25043  86.3966 246.3581 0002508 143.1291 217.0080 14.38091883441449"},{name:"IRIDIUM 42",line1:"1 25077U 97077A   25136.75595020  .00000397  00000+0  12916-3 0  9991",line2:"2 25077  86.3961 252.5045 0001874 114.4883 245.6510 14.36327950436688"},{name:"IRIDIUM 44",line1:"1 25078U 97077B   25136.79521706  .00000434  00000+0  13097-3 0  9999",line2:"2 25078  86.3981 234.4920 0003926 111.7883 248.3734 14.40217971439184"},{name:"IRIDIUM 45",line1:"1 25104U 97082A   25136.75668726  .00019500  00000+0  71026-3 0  9995",line2:"2 25104  86.3596  63.1399 0122859  89.3344 272.1976 15.21123348447267"},{name:"IRIDIUM 24",line1:"1 25105U 97082B   25136.87805472  .00000553  00000+0  16229-3 0  9992",line2:"2 25105  86.3883  93.5808 0011408 170.0273 190.1156 14.42068722438709"},{name:"IRIDIUM 51",line1:"1 25262U 98018A   25136.88195792  .00043208  00000+0  10108-2 0  9997",line2:"2 25262  86.3846  71.3087 0091023  13.2992 347.0627 15.37638320442211"},{name:"IRIDIUM 57",line1:"1 25273U 98019B   25136.60347172  .00000333  00000+0  10802-3 0  9995",line2:"2 25273  86.3973 158.4925 0002290  92.8475 267.2984 14.35873001420252"},{name:"IRIDIUM 63",line1:"1 25286U 98021B   25136.90394842  .00000427  00000+0  13883-3 0  9997",line2:"2 25286  86.3956  95.2557 0002384  83.4077 276.7392 14.36521785419351"},{name:"IRIDIUM 69",line1:"1 25319U 98026A   25136.94300054  .00000431  00000+0  12817-3 0  9996",line2:"2 25319  86.3946 108.6265 0004415 107.4602 252.7080 14.40937580418569"},{name:"IRIDIUM 71",line1:"1 25320U 98026B   25136.88456272  .00000463  00000+0  13751-3 0  9998",line2:"2 25320  86.3945 103.3460 0002814 135.7268 224.4157 14.41132519419081"},{name:"IRIDIUM 73",line1:"1 25344U 98032C   25136.76806969  .00000634  00000+0  15293-3 0  9993",line2:"2 25344  86.4423  60.1581 0002991  88.9862 271.1686 14.51680518426002"},{name:"IRIDIUM 82",line1:"1 25467U 98051A   25136.92683602  .00026728  00000+0  79142-3 0  9990",line2:"2 25467  86.3658 125.0921 0090645  56.9689 304.0226 15.30663729419170"},{name:"IRIDIUM 106",line1:"1 41917U 17003A   25136.88007360  .00000059  00000+0  13945-4 0  9991",line2:"2 41917  86.3966 254.0833 0002724  98.8121 261.3384 14.34217934436403"},{name:"IRIDIUM 103",line1:"1 41918U 17003B   25136.86738682  .00000002  00000+0 -62996-5 0  9998",line2:"2 41918  86.3965 253.9898 0002001 111.9167 248.2242 14.34217578436420"},{name:"IRIDIUM 109",line1:"1 41919U 17003C   25136.73419232  .00000049  00000+0  10333-4 0  9999",line2:"2 41919  86.3968 254.0982 0002022  96.7652 263.3774 14.34217925436370"},{name:"IRIDIUM 102",line1:"1 41920U 17003D   25136.84201724  .00000039  00000+0  70135-5 0  9994",line2:"2 41920  86.3965 253.9849 0002213  91.1620 268.9829 14.34217747436470"},{name:"IRIDIUM 105",line1:"1 41921U 17003E   25136.74298786  .00000212  00000+0  68771-4 0  9993",line2:"2 41921  86.4011 222.4797 0002153 100.9963 259.1475 14.34217254438316"},{name:"IRIDIUM 104",line1:"1 41922U 17003F   25136.78493248  .00000006  00000+0 -50427-5 0  9990",line2:"2 41922  86.3966 254.0458 0001696 101.3087 258.8299 14.34217703436455"}];async function d(){return await new Promise(e=>setTimeout(e,1e3)),c}let u={orbitType:"sun-synchronous",altitude:500,localSolarTime:10.5},m={handshakeCount:0,totalBlackoutTime:0,averageBlackoutDuration:0,currentlyInCoverage:!1},h=(0,i.createContext)(void 0),x=e=>{let{children:t}=e,[a,s]=(0,i.useState)(!0),[r,l]=(0,i.useState)(!1),[c,x]=(0,i.useState)(60),[f,p]=(0,i.useState)(new Date),[g,j]=(0,i.useState)([]),[b,y]=(0,i.useState)(u),[I,v]=(0,i.useState)(m),[N,M]=(0,i.useState)([]),[U,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{s(!0);let e=(await d()).map((e,t)=>{let a=(0,o.jl)(e.line1,e.line2);return{id:"iridium-".concat(t),name:e.name||"Iridium ".concat(t),satrec:a,position:{x:0,y:0,z:0},isIridium:!0}}),t=k(b);j([...e,t]),s(!1)}catch(e){console.error("Failed to load TLE data:",e),s(!1)}})()},[]),(0,i.useEffect)(()=>{if(g.length>0){let e=k(b);j(t=>[...t.filter(e=>e.isIridium),e])}},[b]),(0,i.useEffect)(()=>{if(!r||a)return;let e=setInterval(()=>{p(e=>{let t=new Date(e.getTime()+1e3*c);return S(t),C(t),t})},1e3);return()=>clearInterval(e)},[r,a,c,g]);let k=e=>({id:"beacon",name:"Beacon Satellite",satrec:{},position:{x:0,y:0,z:0},isIridium:!1}),S=e=>{j(t=>t.map(t=>{try{let a;let n=e.getTime()/1e3,i=Number.parseInt(t.id.split("-")[1]||"0"),s=7e3+i%10*200,r=86.4+i%20*.1,l=2*Math.PI/(100*(1+i%10*.01)*60),o=n*l+.5*i,c=s*Math.cos(o),d=s*Math.sin(o)*Math.cos(r*Math.PI/180),u=s*Math.sin(o)*Math.sin(r*Math.PI/180);if(t.isIridium)a={x:c,y:d,z:u};else{let e=b.altitude,t=6371+e,i="sun-synchronous"===b.orbitType?98:b.inclination||45,s=2*Math.PI/5400,r=n*s;a={x:t*Math.cos(r),y:t*Math.sin(r)*Math.cos(i*Math.PI/180),z:t*Math.sin(r)*Math.sin(i*Math.PI/180)}}return{...t,position:a}}catch(e){return console.error("Error updating position for satellite ".concat(t.id,":"),e),t}}))},C=e=>{let t=g.find(e=>!e.isIridium);if(!t)return;let a=g.filter(e=>e.isIridium),n=!1;for(let i of a)if(D(t,i)){if(n=!0,!U){let t={startTime:new Date(e),iridiumId:i.id};w(t),M(e=>[...e,t]),v(e=>({...e,handshakeCount:e.handshakeCount+1,currentlyInCoverage:!0}))}break}if(!n&&U&&(M(t=>t.map(t=>t===U?{...t,endTime:new Date(e)}:t)),w(null),v(t=>{let a={...t,currentlyInCoverage:!1};return t.lastBlackoutStart||(a.lastBlackoutStart=new Date(e)),a})),n&&I.lastBlackoutStart){let t=(e.getTime()-I.lastBlackoutStart.getTime())/1e3;v(e=>{let a=e.totalBlackoutTime+t,n=e.handshakeCount;return{...e,totalBlackoutTime:a,averageBlackoutDuration:a/(n>0?n:1),currentlyInCoverage:!0,lastBlackoutStart:void 0}})}},D=(e,t)=>{let a={x:e.position.x-t.position.x,y:e.position.y-t.position.y,z:e.position.z-t.position.z},n={x:-t.position.x,y:-t.position.y,z:-t.position.z},i=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),s=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z),r={x:a.x/i,y:a.y/i,z:a.z/i},l={x:n.x/s,y:n.y/s,z:n.z/s},c=Math.acos(r.x*l.x+r.y*l.y+r.z*l.z);return 62>=(0,o.nv)(c)},R=(0,i.useCallback)(()=>{l(!0)},[]),T=(0,i.useCallback)(()=>{l(!1)},[]),B=(0,i.useCallback)(()=>{l(!1),p(new Date),v(m),M([]),w(null)},[]);return(0,n.jsx)(h.Provider,{value:{isLoading:a,isRunning:r,timeSpeed:c,currentTime:f,satellites:g,beaconParams:b,stats:I,handshakes:N,setBeaconParams:y,startSimulation:R,stopSimulation:T,setTimeSpeed:x,resetSimulation:B},children:t})},f=()=>{let e=(0,i.useContext)(h);if(void 0===e)throw Error("useSimulation must be used within a SimulationProvider");return e};var p=a(1712),g=a(5317),j=a(2116);function b(){let e=(0,i.useRef)(null),[t,a,s,r]=(0,p.F)(j.Tap,["/textures/earth_daymap.jpg","/textures/earth_normal.jpg","/textures/earth_specular.jpg","/textures/earth_clouds.jpg"]);return(0,p.C)(()=>{e.current&&(e.current.rotation.y+=5e-4)}),(0,n.jsxs)("group",{children:[(0,n.jsx)("ambientLight",{intensity:.3}),(0,n.jsx)("directionalLight",{position:[1e5,1e4,5e4],intensity:1.5,castShadow:!0}),(0,n.jsx)(g.iy,{ref:e,args:[6371,64,64],children:(0,n.jsx)("meshPhongMaterial",{map:t,normalMap:a,specularMap:s,shininess:5,specular:new j.Q1f(3355443)})}),(0,n.jsx)(g.iy,{args:[6391,64,64],children:(0,n.jsx)("meshPhongMaterial",{map:r,transparent:!0,opacity:.4,depthWrite:!1})})]})}var y=a(4651);function I(e){let{position:t,isBeacon:a,name:s}=e,r=(0,i.useRef)();return(0,p.C)(()=>{r.current&&(r.current.rotation.x+=.01,r.current.rotation.y+=.01)}),(0,n.jsxs)("group",{position:t,children:[(0,n.jsxs)("mesh",{ref:r,children:[(0,n.jsx)("boxGeometry",{args:[100,100,100]}),(0,n.jsx)("meshStandardMaterial",{color:a?"#ff9900":"#00ffff"})]}),(0,n.jsx)(y.E,{distanceFactor:1e3,children:(0,n.jsx)("div",{className:"text-white bg-black bg-opacity-50 px-2 py-1 rounded text-xs",children:s})})]})}var v=a(6980);function N(e){let{points:t,color:a}=e;return t.length<2?null:(0,n.jsx)(v.N,{points:t,color:a,lineWidth:1,transparent:!0,opacity:.6})}function M(e){let{position:t,direction:a,active:s}=e,r=(0,i.useRef)(),l=new j.Pq0(a[0],a[1],a[2]).normalize(),o=new j.PTz;return o.setFromUnitVectors(new j.Pq0(0,-1,0),l),(0,p.C)(()=>{r.current&&s&&(r.current.material.opacity=.3+.2*Math.sin(Date.now()/300))}),(0,n.jsxs)("mesh",{position:t,quaternion:o,ref:r,children:[(0,n.jsx)("coneGeometry",{args:[5e3*Math.tan(62*Math.PI/180),5e3,32,1,!0]}),(0,n.jsx)("meshBasicMaterial",{color:s?"#00ff00":"#ffffff",transparent:!0,opacity:s?.5:.1,side:j.$EB,wireframe:!s})]})}let U=()=>{let{satellites:e,currentTime:t,stats:a}=f(),s=(0,i.useRef)({});(0,i.useEffect)(()=>{let t=e=>{let t=[],a=Number.parseInt(e.id.split("-")[1]||"0"),n=7e3+a%10*200,i=86.4+a%20*.1;for(let e=0;e<100;e++){let a=e/100*Math.PI*2,s=n*Math.cos(a),r=n*Math.sin(a)*Math.cos(i*Math.PI/180),l=n*Math.sin(a)*Math.sin(i*Math.PI/180);t.push([s,r,l])}return t},a={};e.forEach(e=>{a[e.id]=t(e)}),s.current=a},[e]);let o=(0,i.useMemo)(()=>e.filter(e=>e.isIridium),[e]),c=(0,i.useMemo)(()=>e.find(e=>!e.isIridium),[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ambientLight",{intensity:.3}),(0,n.jsx)("directionalLight",{position:[1e5,1e4,5e4],intensity:1.5}),(0,n.jsx)("hemisphereLight",{args:[3310847,0xffc87f,.6]}),(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(b,{})}),(0,n.jsx)(r.A,{radius:1e5,depth:50,count:5e3,factor:4,saturation:0,fade:!0}),(0,n.jsx)(()=>{let e=(0,i.useRef)(null),t=(0,i.useMemo)(()=>new j.B69,[]);return(0,i.useMemo)(()=>new j.kn4,[]),(0,p.C)(()=>{e.current&&(o.forEach((a,n)=>{t.position.set(a.position.x,a.position.y,a.position.z),t.rotation.x+=.01,t.rotation.y+=.01,t.updateMatrix(),e.current.setMatrixAt(n,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),(0,n.jsxs)("instancedMesh",{ref:e,args:[void 0,void 0,o.length],frustumCulled:!0,children:[(0,n.jsx)("boxGeometry",{args:[100,100,100]}),(0,n.jsx)("meshStandardMaterial",{color:"#00ffff"})]})},{}),c&&(0,n.jsx)(I,{position:[c.position.x,c.position.y,c.position.z],isBeacon:!0,name:c.name}),o.map(e=>{var t;return(0,n.jsx)(M,{position:[e.position.x,e.position.y,e.position.z],direction:[-e.position.x,-e.position.y,-e.position.z],active:a.currentlyInCoverage&&(null===(t=a.handshakes)||void 0===t?void 0:t.length)>0&&a.handshakes[a.handshakes.length-1].iridiumId===e.id},"cone-".concat(e.id))}),e.map(e=>(0,n.jsx)(N,{points:s.current[e.id]||[],color:e.isIridium?"#00ffff":"#ff9900"},"trail-".concat(e.id))),(0,n.jsx)(l.N,{enablePan:!0,enableZoom:!1,enableRotate:!0,minDistance:2e4,maxDistance:2e4})]})};function w(){let{isLoading:e}=f();return e?(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-black",children:(0,n.jsx)("div",{className:"text-white text-xl",children:"Loading satellite data..."})}):(0,n.jsx)("div",{className:"w-full h-full",children:(0,n.jsx)(s.Hl,{camera:{position:[0,0,15e3],fov:45,near:100,far:1e5},performance:{min:.5},gl:{antialias:!0,alpha:!1,powerPreference:"high-performance"},children:(0,n.jsx)(U,{})})})}var k=a(1403),S=a(176),C=a(910),D=a(4975);function R(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,D.QP)((0,C.$)(t))}let T=(0,S.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=i.forwardRef((e,t)=>{let{className:a,variant:i,size:s,asChild:r=!1,...l}=e,o=r?k.DX:"button";return(0,n.jsx)(o,{className:R(T({variant:i,size:s,className:a})),ref:t,...l})});B.displayName="Button";let z=i.forwardRef((e,t)=>{let{className:a,type:i,...s}=e;return(0,n.jsx)("input",{type:i,className:R("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});z.displayName="Input";var E=a(4572);let P=(0,S.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(E.b,{ref:t,className:R(P(),a),...i})});L.displayName=E.b.displayName;var A=a(2657),F=a(2882);let O=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(A.bL,{className:R("grid gap-2",a),...i,ref:t})});O.displayName=A.bL.displayName;let _=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(A.q7,{ref:t,className:R("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...i,children:(0,n.jsx)(A.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(F.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});_.displayName=A.q7.displayName;var q=a(4561);let V=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsxs)(q.bL,{ref:t,className:R("relative flex w-full touch-none select-none items-center",a),...i,children:[(0,n.jsx)(q.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,n.jsx)(q.Q6,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(q.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});V.displayName=q.bL.displayName;var G=a(581),J=a(1294);let Y=G.bL,H=G.l9,Q=G.ZL;G.bm;let W=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(G.hJ,{ref:t,className:R("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});W.displayName=G.hJ.displayName;let Z=i.forwardRef((e,t)=>{let{className:a,children:i,...s}=e;return(0,n.jsxs)(Q,{children:[(0,n.jsx)(W,{}),(0,n.jsxs)(G.UC,{ref:t,className:R("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s,children:[i,(0,n.jsxs)(G.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(J.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});Z.displayName=G.UC.displayName;let $=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:R("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};$.displayName="DialogHeader";let X=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(G.hE,{ref:t,className:R("text-lg font-semibold leading-none tracking-tight",a),...i})});function K(){let{stats:e,handshakes:t,currentTime:a}=f(),[s,r]=(0,i.useState)(!1),l=()=>t.map(e=>({iridiumId:e.iridiumId,startTime:e.startTime.toISOString(),endTime:e.endTime?e.endTime.toISOString():"ongoing",duration:e.endTime?((e.endTime.getTime()-e.startTime.getTime())/1e3).toFixed(1)+"s":"ongoing"})),o=()=>({simulationTime:a.toISOString(),handshakeCount:e.handshakeCount,totalBlackoutTime:e.totalBlackoutTime.toFixed(1)+"s",averageBlackoutDuration:e.averageBlackoutDuration.toFixed(1)+"s",currentStatus:e.currentlyInCoverage?"In Coverage":"Blackout"});return(0,n.jsxs)(Y,{open:s,onOpenChange:r,children:[(0,n.jsx)(H,{asChild:!0,children:(0,n.jsx)(B,{variant:"outline",className:"w-full",children:"Export Data"})}),(0,n.jsxs)(Z,{children:[(0,n.jsx)($,{children:(0,n.jsx)(X,{children:"Export Simulation Data"})}),(0,n.jsxs)("div",{className:"space-y-4 py-4",children:[(0,n.jsx)("div",{className:"text-sm",children:"Export your simulation results for analysis or presentation."}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(B,{onClick:()=>{let e=new Blob([JSON.stringify({stats:o(),handshakes:l()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="beacon-simulation-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},className:"flex-1",children:"Export as JSON"}),(0,n.jsx)(B,{onClick:()=>{let e=l(),t="Iridium ID,Start Time,End Time,Duration\n";e.forEach(e=>{t+="".concat(e.iridiumId,",").concat(e.startTime,",").concat(e.endTime,",").concat(e.duration,"\n")});let a=new Blob([t],{type:"text/csv"}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download="beacon-handshakes-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},className:"flex-1",children:"Export as CSV"})]})]})]})]})}function ee(){var e,t;let{isRunning:a,timeSpeed:s,beaconParams:r,startSimulation:l,stopSimulation:o,setTimeSpeed:c,setBeaconParams:d,resetSimulation:u}=f(),[m,h]=(0,i.useState)(r.altitude.toString()),[x,p]=(0,i.useState)((null===(e=r.inclination)||void 0===e?void 0:e.toString())||"45"),[g,j]=(0,i.useState)((null===(t=r.localSolarTime)||void 0===t?void 0:t.toString())||"10.5"),[b,y]=(0,i.useState)(r.orbitType);return(0,n.jsxs)("div",{className:"space-y-6 mb-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Beacon Orbit Parameters"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(L,{htmlFor:"orbit-type",children:"Orbit Type"}),(0,n.jsxs)(O,{id:"orbit-type",value:b,onValueChange:e=>y(e),className:"flex space-x-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(_,{value:"sun-synchronous",id:"sun-sync"}),(0,n.jsx)(L,{htmlFor:"sun-sync",children:"Sun-synchronous"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(_,{value:"non-polar",id:"non-polar"}),(0,n.jsx)(L,{htmlFor:"non-polar",children:"Non-polar"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(L,{htmlFor:"altitude",children:"Altitude (km)"}),(0,n.jsx)(z,{id:"altitude",type:"number",value:m,onChange:e=>h(e.target.value),min:"200",max:"2000",className:"text-white bg-slate-800 border-slate-700"})]}),"sun-synchronous"===b?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(L,{htmlFor:"lst",children:"Local Solar Time (hours)"}),(0,n.jsx)(z,{id:"lst",type:"number",value:g,onChange:e=>j(e.target.value),min:"0",max:"24",step:"0.5",className:"text-white bg-slate-800 border-slate-700"})]}):(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(L,{htmlFor:"inclination",children:"Inclination (degrees)"}),(0,n.jsx)(z,{id:"inclination",type:"number",value:x,onChange:e=>p(e.target.value),min:"0",max:"180",className:"text-white bg-slate-800 border-slate-700"})]}),(0,n.jsx)(B,{onClick:()=>{d({orbitType:b,altitude:Number(m),inclination:"non-polar"===b?Number(x):void 0,localSolarTime:"sun-synchronous"===b?Number(g):void 0})},className:"w-full",children:"Apply Parameters"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Simulation Controls"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsxs)(L,{htmlFor:"time-speed",children:["Time Speed: ",s,"x"]})}),(0,n.jsx)(V,{id:"time-speed",min:1,max:1e3,step:1,value:[s],onValueChange:e=>c(e[0])})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[a?(0,n.jsx)(B,{onClick:o,variant:"destructive",className:"flex-1",children:"Pause"}):(0,n.jsx)(B,{onClick:l,className:"flex-1",children:"Start"}),(0,n.jsx)(B,{onClick:u,variant:"outline",className:"flex-1",children:"Reset"})]})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(K,{})})]})}function et(){let{stats:e,currentTime:t,isRunning:a}=f(),i=e=>{let t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))};return(0,n.jsxs)("div",{className:"mt-auto space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Simulation Stats"}),(0,n.jsxs)("div",{className:"bg-slate-800 p-4 rounded-md space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Current Time:"}),(0,n.jsx)("span",{children:t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Status:"}),(0,n.jsx)("span",{className:e.currentlyInCoverage?"text-green-400":"text-red-400",children:e.currentlyInCoverage?"In Coverage":"Blackout"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Handshake Count:"}),(0,n.jsx)("span",{children:e.handshakeCount})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Total Blackout Time:"}),(0,n.jsx)("span",{children:i(e.totalBlackoutTime)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Avg. Blackout Duration:"}),(0,n.jsx)("span",{children:i(e.averageBlackoutDuration)})]})]})]})}function ea(){return(0,n.jsx)(x,{children:(0,n.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between",children:(0,n.jsxs)("div",{className:"w-full h-screen flex",children:[(0,n.jsx)("div",{className:"w-3/4 h-full",children:(0,n.jsx)(w,{})}),(0,n.jsxs)("div",{className:"w-1/4 h-full bg-slate-900 text-white p-4 flex flex-col",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Beacon-Orbit Simulator"}),(0,n.jsx)(ee,{}),(0,n.jsx)(et,{})]})]})})})}X.displayName=G.hE.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(G.VY,{ref:t,className:R("text-sm text-muted-foreground",a),...i})}).displayName=G.VY.displayName},3105:(e,t,a)=>{Promise.resolve().then(a.bind(a,1366))}},e=>{var t=t=>e(e.s=t);e.O(0,[970,667,269,577,436,984,358],()=>t(3105)),_N_E=e.O()}]);